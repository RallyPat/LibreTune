/*
 * LibreTune Base Styles
 * Core reset and global styles using theme variables
 */

@import './variables.css';

/* Reset */
*, *::before, *::after {
  box-sizing: border-box;
  margin: 0;
  padding: 0;
}

html {
  font-size: 16px;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

body {
  font-family: var(--font-sans);
  font-size: var(--font-size-base);
  color: var(--text-primary);
  background: var(--bg-app);
  line-height: 1.4;
  overflow: hidden;
}

/* Scrollbar styling */
::-webkit-scrollbar {
  width: 10px;
  height: 10px;
}

::-webkit-scrollbar-track {
  background: var(--scrollbar-track);
}

::-webkit-scrollbar-thumb {
  background: var(--scrollbar-thumb);
  border-radius: var(--radius-sm);
}

::-webkit-scrollbar-thumb:hover {
  background: var(--scrollbar-thumb-hover);
}

::-webkit-scrollbar-corner {
  background: var(--scrollbar-track);
}

/* Selection */
::selection {
  background: var(--primary);
  color: var(--primary-text);
}

/* Focus outline */
:focus-visible {
  outline: 2px solid var(--border-focus);
  outline-offset: 1px;
}

/* Links */
a {
  color: var(--text-link);
  text-decoration: none;
}

a:hover {
  text-decoration: underline;
}

/* Buttons - base reset */
button {
  font-family: inherit;
  font-size: inherit;
  border: none;
  background: none;
  cursor: pointer;
  color: inherit;
}

button:disabled {
  cursor: not-allowed;
  opacity: 0.5;
}

/* Inputs - base reset */
input, select, textarea {
  font-family: inherit;
  font-size: inherit;
  color: var(--text-primary);
  background: var(--bg-input);
  border: 1px solid var(--border-default);
  border-radius: var(--radius-sm);
  padding: var(--space-2) var(--space-3);
}

/* Force CSS control over selects - required for WebKit */
select {
  -webkit-appearance: none;
  -moz-appearance: none;
  appearance: none;
  padding-right: 30px;
  cursor: pointer;
}

/* Theme-specific select styling with arrow */
[data-theme="dark"] select {
  background: #2a2a2a url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' viewBox='0 0 12 12'%3E%3Cpath fill='%23aaaaaa' d='M6 8L1 3h10z'/%3E%3C/svg%3E") no-repeat right 10px center / 10px !important;
  color: #e8e8e8 !important;
}

[data-theme="light"] select {
  background: #ffffff url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' viewBox='0 0 12 12'%3E%3Cpath fill='%23666666' d='M6 8L1 3h10z'/%3E%3C/svg%3E") no-repeat right 10px center / 10px !important;
  color: #212121 !important;
}

[data-theme="midnight"] select {
  background: #161b22 url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' viewBox='0 0 12 12'%3E%3Cpath fill='%23aaaaaa' d='M6 8L1 3h10z'/%3E%3C/svg%3E") no-repeat right 10px center / 10px !important;
  color: #d1d9e0 !important;
}

[data-theme="carbon"] select {
  background: #2a2a2a url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' viewBox='0 0 12 12'%3E%3Cpath fill='%23aaaaaa' d='M6 8L1 3h10z'/%3E%3C/svg%3E") no-repeat right 10px center / 10px !important;
  color: #f4f4f4 !important;
}

/* Select dropdown option styling */
select option {
  background: var(--bg-surface);
  color: var(--text-primary);
  padding: 8px;
}

[data-theme="dark"] select option {
  background-color: #2a2a2a;
  color: #e8e8e8;
}

[data-theme="midnight"] select option {
  background-color: #161b22;
  color: #d1d9e0;
}

[data-theme="carbon"] select option {
  background-color: #2a2a2a;
  color: #f4f4f4;
}

input:focus, select:focus, textarea:focus {
  border-color: var(--border-focus);
  outline: none;
  box-shadow: 0 0 0 2px rgba(25, 118, 210, 0.2);
}

input:disabled, select:disabled, textarea:disabled {
  background: var(--bg-surface);
  color: var(--text-disabled);
  cursor: not-allowed;
}

/* Enhanced input visibility for dark themes */
[data-theme="dark"] input,
[data-theme="dark"] select,
[data-theme="dark"] textarea,
[data-theme="midnight"] input,
[data-theme="midnight"] select,
[data-theme="midnight"] textarea,
[data-theme="carbon"] input,
[data-theme="carbon"] select,
[data-theme="carbon"] textarea {
  border-width: 1.5px;
  box-shadow: inset 0 1px 3px rgba(0, 0, 0, 0.3);
}

/* Number input - hide spinners */
input[type="number"]::-webkit-inner-spin-button,
input[type="number"]::-webkit-outer-spin-button {
  -webkit-appearance: none;
  margin: 0;
}

input[type="number"] {
  -moz-appearance: textfield;
}

/* Tables */
table {
  border-collapse: collapse;
  width: 100%;
}

th, td {
  text-align: left;
  padding: var(--space-2) var(--space-3);
}

/* Lists */
ul, ol {
  list-style: none;
}

/* Images */
img {
  max-width: 100%;
  height: auto;
}

/* Code/monospace */
code, pre, .mono {
  font-family: var(--font-mono);
}

/* Utility classes */
.text-primary { color: var(--text-primary); }
.text-secondary { color: var(--text-secondary); }
.text-muted { color: var(--text-muted); }
.text-success { color: var(--success); }
.text-warning { color: var(--warning); }
.text-error { color: var(--error); }
.text-info { color: var(--info); }

.bg-surface { background: var(--bg-surface); }
.bg-elevated { background: var(--bg-elevated); }

.border { border: 1px solid var(--border-default); }
.border-subtle { border: 1px solid var(--border-subtle); }

.rounded-sm { border-radius: var(--radius-sm); }
.rounded-md { border-radius: var(--radius-md); }
.rounded-lg { border-radius: var(--radius-lg); }

/* Flex utilities */
.flex { display: flex; }
.flex-col { flex-direction: column; }
.flex-1 { flex: 1; }
.items-center { align-items: center; }
.justify-center { justify-content: center; }
.justify-between { justify-content: space-between; }
.gap-1 { gap: var(--space-1); }
.gap-2 { gap: var(--space-2); }
.gap-3 { gap: var(--space-3); }
.gap-4 { gap: var(--space-4); }

/* Transitions */
.transition { transition: all var(--transition-normal); }
.transition-fast { transition: all var(--transition-fast); }

/* Prevent text selection in UI elements */
.no-select {
  user-select: none;
  -webkit-user-select: none;
}

/* Ellipsis overflow */
.truncate {
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
}

/* Screen reader only */
.sr-only {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  border: 0;
}
